<!DOCTYPE html>
<html>

<head>
    <title>Student</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css?family=Roboto&display=swap" rel="stylesheet">


    <style>
        body {
            font-family: "Roboto", sans-serif;
        }

        .mark-details {
            margin-top: 1rem;
        }
    </style>

</head>

<body>
    <!-- form -->
    <div class="container-fluid">
        <div class="d-flex justify-content-center">
            <h3>Student Details</h3>
        </div>

        <div class="d-flex justify-content-center">

            <!-- Personal Information -->
            <div class="card  w-50">
                <div class="card-header">
                    Personal information
                </div>
                <div class="card-body">

                    <form>
                        <div class="form-group row">
                            <label for="studentName" class="col-sm-2 col-form-label">Name</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" name="Name"id="studentName" placeholder="Name">
                            </div>
                        </div>

                        <div class="form-group row">
                            <label for="rollNo" class="col-sm-2 col-form-label">Roll No</label>
                            <div class="col-sm-10">
                                <input type="number" class="form-control" name="rollno"id="rollNo" placeholder="Roll No">
                            </div>
                        </div>

                        <div class="form-group row">
                            <label for="semester" class="col-sm-2 col-form-label">Semester</label>
                            <div class="col-sm-10">
                                <input type="number" class="form-control" name="sem"id="semester" placeholder="Semester">
                            </div>
                        </div>
                    </form>

                </div>
            </div>

        </div>

        <div class="d-flex justify-content-center mark-details">

            <!-- Mark Details -->
            <div class="card  w-50">
                <div class="card-header">
                    Mark Details
                </div>
                <div class="card-body">

                    <form onsubmit="return false;">
                        <div class="form-group row">
                            <label for="daa" class="col-sm-2 col-form-label">DAA</label>
                            <div class="col-sm-10">
                                <input type="number" class="form-control" name="daa"id="daa" placeholder="DAA">
                            </div>
                        </div>

                        <div class="form-group row">
                            <label for="web" class="col-sm-2 col-form-label">Web</label>
                            <div class="col-sm-10">
                                <input type="number" class="form-control" name="web"id="web" placeholder="Web">
                            </div>
                        </div>

                        <div class="form-group row">
                            <label for="dbms" class="col-sm-2 col-form-label">DBMS</label>
                            <div class="col-sm-10">
                                <input type="number" class="form-control" name="dbms"id="dbms" placeholder="DBMS">
                            </div>
                        </div>

                        <div class="form-group row">
                            <label for="se" class="col-sm-2 col-form-label">SE</label>
                            <div class="col-sm-10">
                                <input type="number" class="form-control" name="se"id="se" placeholder="SE">
                            </div>
                        </div>

                        <div class="form-group row">
                            <label for="cn" class="col-sm-2 col-form-label">CN</label>
                            <div class="col-sm-10">
                                <input type="number" class="form-control" id="cn" placeholder="CN">
                            </div>
                        </div>

                        <div class="form-group row">

                            <div class="col-sm-2">
                                <input onclick="saveDetails()" class="btn btn-primary" type="submit" value="Submit">
                            </div>

                            <div class="col-sm-10">
                                <label class="col-form-label" id="notificationMessage"></label>
                            </div>
                        </div>

                    </form>
                </div>
            </div>
        </div>
    </div>


    <script>

        function saveDetails() {

            var studentName = document.getElementById('studentName').value;
            var rollNo = document.getElementById('rollNo').value;
            var semester = document.getElementById('semester').value;

            var daa = document.getElementById('daa').value;
            var web = document.getElementById('web').value;
            var dbms = document.getElementById('dbms').value;
            var se = document.getElementById('se').value;
            var cn = document.getElementById('cn').value;

           

            var payload = {
                studentName: studentName,
                rollNo: rollNo,
                semester: semester,
                daa: daa,
                web: web,
                dbms: dbms,
                se: se,
                cn: cn,
                
            };


            const xhr = new XMLHttpRequest()
            xhr.onreadystatechange = () => {
                if (xhr.readyState === 4) {
                    if (xhr.status === 200) {
                        console.log(xhr.responseText);
                        var element = document.getElementById("notificationMessage");
                        element.classList.remove("text-danger");
                        element.classList.add("text-success");
                        document.getElementById("notificationMessage").innerHTML = "Success";
                    } else {
                        var element = document.getElementById("notificationMessage");
                        element.classList.add("text-danger");
                        console.error('error');
                        document.getElementById("notificationMessage").innerHTML = "Error";
                    }
                }
            }
            xhr.open('POST', 'http://localhost:8081/save', true);
            xhr.setRequestHeader('Content-type', 'application/json');
            xhr.send(JSON.stringify(payload));


        }
    </script>
</body>

</html>